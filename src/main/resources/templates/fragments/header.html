
<header >
    <!-- Header Top Area -->
    <!-- Header Top Area -->
    <div class="header-top-area text-white py-2" style="background-color: #D8373E; font-weight: bold">
        <div class="container">
            <div class="row justify-content-between align-items-center">
                <!-- Contact info (email and phone) on the left -->
                <div>
                        <i class="fa fa-envelope" style="font-size: 15px;"></i>
                        <span>ltw@laptop.com</span>
                        <span>|</span>
                        <i class="fa fa-phone" style="font-size: 15px;"></i>
                        <span>0123456789</span>
                </div>


                <!-- User login/register or user info on the right -->
                <div class="col-auto">
                    <nav>
                        <ul class="list-unstyled mb-0 d-flex gap-3">
                            <!-- User info if logged in -->
                            <li id="user-info" style="display: none;">
                                <a href="/profile" id="user-name" class="text-white text-decoration-none">Welcome, User</a>
                                <span>|</span>
                                <a href="#" id="logout" class="text-white text-decoration-none">Đăng xuất</a>
                            </li>

                            <!-- Login and Register if not logged in -->
                            <li id="login-register">
                                <a href="/login" class="text-white text-decoration-none">Đăng nhập</a>
                                <span>|</span>
                                <a href="/signup" class="text-white text-decoration-none">Đăng ký</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>




    <div class="header-middle-area pt-20 pb-20">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-3">
                    <div class="brand-logo">
                        <a href="/home">
                            <img src="/assets/img/logo/logo.jpg" width="60" height="60" alt="brand logo">
                        </a>
                    </div>
                </div> <!-- end logo area -->
                <div class="col-lg-9">
                    <div class="header-middle-right">
                        <div class="header-middle-shipping mb-20">
                            <div class="single-block-shipping">
                                <div class="shipping-icon">
                                    <i class="fa fa-clock-o"></i>
                                </div>
                                <div class="shipping-content">
                                    <h5 style="font-weight: bold">Giờ mở cửa</h5>
                                    <span>Thứ hai - Chủ nhật: 8.00 - 18.00</span>
                                </div>
                            </div> <!-- end single shipping -->
                            <div class="single-block-shipping">
                                <div class="shipping-icon">
                                    <i class="fa fa-truck"></i>
                                </div>
                                <div class="shipping-content">
                                    <h5 style="font-weight: bold">Miễn Phí Vận Chuyển</h5>
                                    <span>Cho đơn hàng từ 10 triệu</span>
                                </div>
                            </div> <!-- end single shipping -->
                            <div class="single-block-shipping">
                                <div class="shipping-icon">
                                    <i class="fa fa-money"></i>
                                </div>
                                <div class="shipping-content">
                                    <h5 style="font-weight: bold">Hoàn tiền 100%</h5>
                                    <span>Trong vòng 30 ngày</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Main Menu Area -->
    <div class="main-header-wrapper bdr-bottom1">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="main-header-inner">
                        <!-- Category Toggle Section -->
                        <div class="category-toggle-wrap">
                            <div class="category-toggle d-flex align-items-center">
                                <span style="font-weight: bold; font-family: Roboto; font-size: 25px">LAPTOPT4</span>
                                <div class="cat-icon ms-2">
                                    <i class="fa fa-laptop"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Main Menu Section -->
                        <div class="main-menu">
                            <ul class="nav">
                                <li class="nav-item active">
                                    <a class="nav-link" href="/home"><i class="fa fa-home"></i>
                                        Trang
                                        chủ</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="/products">Sản phẩm</a>
                                </li>
                                <li class="nav-item" id="history-menu" style="display: none;">
                                    <a class="nav-link" href="/history">Lịch sử mua hàng</a>
                                </li>
                                <!-- Admin Dropdown -->
                                <!-- Admin Dropdown -->
                                <li class="nav-item dropdown" id="admin-menu"
                                    style="display: none;">
                                    <a class="nav-link dropdown-toggle" href="#"
                                       id="navbarDropdown"
                                       role="button" data-bs-toggle="dropdown"
                                       aria-expanded="false">
                                        Quản Lý Sản Phẩm
                                    </a>
                                    <ul class="dropdown">
                                        <li><a href="/admin/products">Sản Phẩm</a></li>
                                        <li><a href="/admin/manufacturers">Nhà Sản Xuất</a></li>
                                        <li><a href="/admin/categories">Thể Loại</a></li>
                                        <li><a href="/admin/inventory">Kho</a></li>
                                        <li><a href="/admin/rates">Phản hồi đánh giá</a></li>
                                        <li><a href="/admin/orders">Quản lý đơn hàng</a></li>
                                        <li><a href="/admin/customers">Quản lý khách hàng</a>
                                        <li><a href="/admin/promotions">Quản lý khuyến mãi</a>
                                        </li>
                                    </ul>
                                </li>


                                <li class="nav-item" id="admin-dashboard"
                                    style="display: none;">
                                    <a class="nav-link" href="/admin/dashboard">Doanh thu</a>
                                </li>
                                <!-- Customer Menu -->
                                <li class="nav-item" id="customer-menu" style="display: none;">
                                    <a class="nav-link" href="/profile">Thông tin cá nhân</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const token = localStorage.getItem('jwtToken');

            if (token) {
                try {
                    // Decode JWT token
                    const decoded = jwt_decode(token);
                    const userName = decoded.name;  // Adjust based on your JWT payload structure
                    const role = decoded.role;  // Adjust based on your JWT payload structure

                    // Hiển thị tên người dùng
                    document.getElementById('user-name').innerText = userName;
                    document.getElementById('user-info').style.display = 'block';
                    document.getElementById('login-register').style.display = 'none';

                    // Hiển thị menu dựa trên vai trò
                    if (role === 'Customer') {
                        document.getElementById('history-menu').style.display = 'block';
                        document.getElementById('customer-menu').style.display = 'block';
                    } else if (role === 'Admin') {
                        document.getElementById('admin-menu').style.display = 'block';
                        document.getElementById('admin-dashboard').style.display = 'block';
                    }
                } catch (error) {
                    console.error('Error decoding JWT:', error);
                }
            }

            // Logout functionality
            document.getElementById('logout').addEventListener('click', (e) => {
                e.preventDefault();
                localStorage.removeItem('jwtToken');  // Remove JWT
                window.location.href = '/login';  // Redirect to login page
            });
        });
    </script>
</header>
